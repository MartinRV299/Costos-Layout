    $(".visor-crow-imagen").click(function() {
        var a = {
            imagen: "",
            rel: "",
            titulo: "",
            descripcion: "",
            fecha:"",
            claseDescripcion: "",
            clasePaginacion: "",
            elementoActual: 0,
            grupo: "",
            claseGrupo: "",
            div: "",
            cajaNegra: "",
            aplicar: function(b) {
                this.imagen = this.grupo[b].getAttribute("alt");
                $("#targetImagenCrow").attr("src", this.imagen);
                $("#descripcionCrow").text(this.grupo[b].getAttribute("title")+': '+this.grupo[b].getAttribute("fecha"));
                $("#paginacionCrow").text(a.elementoActual + 1 + " de " + a.grupo.length);
                $.isEmptyObject(this.grupo[b].getAttribute("title")) &&
                    typeof("undefined" !== this.grupo[b].getAttribute("title")) ? $("#descripcionCrow").removeClass("descripcionCrow") : $("#descripcionCrow").addClass("descripcionCrow");
                $("#targetImagenCrow,#modal__boton-crow,#descripcionCrow").css({ display: "none" });
                $("#targetImagenCrow,#modal__boton-crow,#descripcionCrow").fadeIn(500)
            },
            avanzar: function() {
                this.elementoActual >= this.grupo.length - 1 ? this.elementoActual = 0 : this.elementoActual++;
                this.aplicar(this.elementoActual)
            },
            retroceder: function() {
                0 >= this.elementoActual ? this.elementoActual =
                    this.grupo.length - 1 : this.elementoActual--;
                this.aplicar(this.elementoActual)
            },
            entrarPantallaCompleta: function(a) { a.requestFullScreen ? a.requestFullScreen() : a.mozRequestFullScreen ? a.mozRequestFullScreen() : a.webkitRequestFullScreen ? a.webkitRequestFullScreen() : a.msRequestFullscreen && a.msRequestFullscreen() },
            salirPantallaCompleta: function() {
                document.cancelFullScreen ? document.cancelFullScreen() : document.mozCancelFullScreen ? document.mozCancelFullScreen() : document.webkitCancelFullScreen ? document.webkitCancelFullScreen() :
                    document.msCancelFullscreen && document.msCancelFullscreen()
            }
        };
        a.imagen = $(this).attr("alt");
        a.rel = $(this).attr("rel");
        a.titulo = $(this).attr("title");
        a.fecha = $(this).attr("fecha");
        a.descripcion = "undefined" !== typeof a.titulo ? a.titulo +': '+a.fecha : "";
        a.claseDescripcion = "" != a.descripcion ? 'class="descripcionCrow"' : "";
        a.grupo = $("img[rel=" + a.rel + "]");
        a.elementoActual = $(this).parent().index();
        if (a.grupo.length) {
            a.clasePaginacion = '<div class="paginacionCrow" id="paginacionCrow">' + (a.elementoActual + 1) + " de " + a.grupo.length + "</div>";
            a.claseGrupo = '<div class="izquierda-crow" id="izquierda-crow"></div><div class="derecha-crow" id="derecha-crow"></div>';
        }
        a.cajaNegra = '<div class="modal-crow" id="modal-crow"><div class="canvas-crow precarga-crow"><img id="targetImagenCrow" src="' + a.imagen + '" class="modal__img-crow"><span class="modal__boton-crow" id="modal__boton-crow"></span> <div id="descripcionCrow"' + a.claseDescripcion + ">" + a.descripcion + "</div>" + a.claseGrupo + a.clasePaginacion + "   </div></div>";
        $("body").append(a.cajaNegra);
        $("#targetImagenCrow,#modal__boton-crow,#descripcionCrow").css({ display: "none" });
        $("#targetImagenCrow,#modal__boton-crow,#descripcionCrow").fadeIn(1E3);
        a.div = document.getElementById("targetImagenCrow");
        $("#targetImagenCrow").click(function(b) {
            if (1 < a.grupo.length) {
                var c = a.div.getBoundingClientRect();
                b = b.clientX - c.left;
                c = c.right - c.left;
                60 >= b && a.retroceder();
                b > c - 60 && a.avanzar()
            }
        });
        $("#izquierda-crow").click(function() { a.retroceder() });
        $("#derecha-crow").click(function() { a.avanzar() });
        $("#modal__boton-crow").click(function() {
            $("#modal-crow").remove()
        });
        $("#modal-crow").click(function(b) {
            b.target ===
                this && ($("#modal-crow").remove())
        });
        $(document).keyup(function(b) {
            27 == b.keyCode && ($(document).off("keyup"), $("#modal-crow").remove());
            39 == b.keyCode && a.avanzar();
            37 == b.keyCode && a.retroceder()
        });
        var d = 0,
            e = 0;
        a.div.addEventListener("touchstart", function(a) {
            d = parseInt(a.changedTouches[0].clientX);
            a.preventDefault()
        }, !1);
        a.div.addEventListener("touchend", function(b) {
            e = parseInt(b.changedTouches[0].clientX); - 20 > d - e ? a.retroceder() : 20 < d - e && a.avanzar();
            b.preventDefault()
        }, !1)
    });


    $(".visor-crow-imagen-slide").click(function() {
        var a = {
            imagen: "",
            rel: "",
            titulo: "",
            descripcion: "",
            fecha:"",
            claseDescripcion: "",
            clasePaginacion: "",
            elementoActual: 0,
            grupo: "",
            claseGrupo: "",
            div: "",
            cajaNegra: "",
            aplicar: function(b) {
                this.imagen = this.grupo[b].getAttribute("alt");
                $("#targetImagenCrow").attr("src", this.imagen);
                //$("#descripcionCrow").text(this.grupo[b].getAttribute("title")+': '+this.grupo[b].getAttribute("fecha"));
                $("#paginacionCrow").text(a.elementoActual + 1 + " de " + a.grupo.length);
               // $.isEmptyObject(this.grupo[b].getAttribute("title")) &&
                    //typeof("undefined" !== this.grupo[b].getAttribute("title")) ? $("#descripcionCrow").removeClass("descripcionCrow") : $("#descripcionCrow").addClass("descripcionCrow");
                $("#targetImagenCrow,#modal__boton-crow,#descripcionCrow").css({ display: "none" });
                $("#targetImagenCrow,#modal__boton-crow,#descripcionCrow").fadeIn(500)
            },
            avanzar: function() {
                this.elementoActual >= this.grupo.length - 1 ? this.elementoActual = 0 : this.elementoActual++;
                this.aplicar(this.elementoActual)
            },
            retroceder: function() {
                0 >= this.elementoActual ? this.elementoActual =
                    this.grupo.length - 1 : this.elementoActual--;
                this.aplicar(this.elementoActual)
            },
            entrarPantallaCompleta: function(a) { a.requestFullScreen ? a.requestFullScreen() : a.mozRequestFullScreen ? a.mozRequestFullScreen() : a.webkitRequestFullScreen ? a.webkitRequestFullScreen() : a.msRequestFullscreen && a.msRequestFullscreen() },
            salirPantallaCompleta: function() {
                document.cancelFullScreen ? document.cancelFullScreen() : document.mozCancelFullScreen ? document.mozCancelFullScreen() : document.webkitCancelFullScreen ? document.webkitCancelFullScreen() :
                    document.msCancelFullscreen && document.msCancelFullscreen()
            }
        };
        a.imagen = $(this).attr("alt");
        a.rel = $(this).attr("rel");
        a.titulo = $(this).attr("title");
        a.fecha = $(this).attr("fecha");
        a.descripcion = "undefined" !== typeof a.titulo ? a.titulo +': '+a.fecha : "";
        a.claseDescripcion = "" != a.descripcion ? 'class="descripcionCrow"' : "";
        a.grupo = $("img[rel=" + a.rel + "]");
        a.elementoActual = $(this).parent().index();
        if (a.grupo.length) {
            a.clasePaginacion = '<div class="paginacionCrow" id="paginacionCrow">' + (a.elementoActual + 1) + " de " + a.grupo.length + "</div>";
            a.claseGrupo = '<div class="izquierda-crow" id="izquierda-crow"></div><div class="derecha-crow" id="derecha-crow"></div>';
        }
        a.cajaNegra = '<div class="modal-crow" id="modal-crow"><div class="canvas-crow-slide precarga-crow"><img id="targetImagenCrow" src="' + a.imagen + '" class="modal__img-crow"><span class="modal__boton-crow" id="modal__boton-crow"></span> <div id="descripcionCrow"' + a.claseDescripcion + ">" + a.descripcion + "</div>" + a.claseGrupo + a.clasePaginacion + "   </div></div>";
        $("body").append(a.cajaNegra);
        $("#targetImagenCrow,#modal__boton-crow,#descripcionCrow").css({ display: "none" });
        $("#targetImagenCrow,#modal__boton-crow,#descripcionCrow").fadeIn(1E3);
        a.div = document.getElementById("targetImagenCrow");
        $("#targetImagenCrow").click(function(b) {
            if (1 < a.grupo.length) {
                var c = a.div.getBoundingClientRect();
                b = b.clientX - c.left;
                c = c.right - c.left;
                60 >= b && a.retroceder();
                b > c - 60 && a.avanzar()
            }
        });
        $("#izquierda-crow").click(function() { a.retroceder() });
        $("#derecha-crow").click(function() { a.avanzar() });
        $("#modal__boton-crow").click(function() {
            $("#modal-crow").remove()
        });
        $("#modal-crow").click(function(b) {
            b.target ===
                this && ($("#modal-crow").remove())
        });
        $(document).keyup(function(b) {
            27 == b.keyCode && ($(document).off("keyup"), $("#modal-crow").remove());
            39 == b.keyCode && a.avanzar();
            37 == b.keyCode && a.retroceder()
        });
        var d = 0,
            e = 0;
        a.div.addEventListener("touchstart", function(a) {
            d = parseInt(a.changedTouches[0].clientX);
            a.preventDefault()
        }, !1);
        a.div.addEventListener("touchend", function(b) {
            e = parseInt(b.changedTouches[0].clientX); - 20 > d - e ? a.retroceder() : 20 < d - e && a.avanzar();
            b.preventDefault()
        }, !1)
    });



    $(".visor-crow-imagen-mini").click(function() {
        mostrarVisorCrow(this);
    });

    function mostrarVisorCrow(e){
        let a = {
            imagen: "",
            cajaNegra: ""
        };
        a.imagen = $(e).attr("alt");
        a.cajaNegra = '<div class="modal-crow" id="modal-crow">' +
                            '<div class="canvas-crow precarga-crow">' +
                                '<img id="targetImagenCrow" src="' + a.imagen + '" class="modal__img-crow">'
                                '<span class="modal__boton-crow" id="modal__boton-crow"></span>' +
                            '</div>' + 
                      '</div>';
        $("body").append(a.cajaNegra);
        $("#targetImagenCrow,#modal__boton-crow").css({ display: "none" });
        $("#targetImagenCrow,#modal__boton-crow").fadeIn(1E3);
     
        $("#modal__boton-crow").click(function() {
            $("#modal-crow").remove()
        });
        $("#modal-crow").click(function(b) {
            b.target ===
                this && ($("#modal-crow").remove())
        });
        $(document).keyup(function(b) {
            27 == b.keyCode && ($(document).off("keyup"), $("#modal-crow").remove());
        });
    }


    $('.visor-crow-video').click(function(){
  
        var CAJA_NEGRA = {
                       video:'',
                       cajaNegra:''//div padre        
         }
         CAJA_NEGRA.video = $(this).attr('alt');
       
       
         CAJA_NEGRA.cajaNegra = '<div class="modal-crow" id="modal"><div class="canvas-crow videos-crow"> <video controls="controls" class="player" id="player" playsinline="playsinline" width="100%" preload="none" style="max-width:100%;" webkit-playsinline="webkit-playsinline" autoplay><source src="'+ CAJA_NEGRA.video +'" type="video/mp4"/></video>  <span class="modal__boton-crow2"></span> <span class="modal__boton-crow" id="modal__boton"></span>  </div></div>';
         $('body').append(CAJA_NEGRA.cajaNegra);
 
         $("#targetImagenCrow,#modal__boton,#descripcionCrow").css({"display":"none"});
         $("#targetImagenCrow,#modal__boton,#descripcionCrow").fadeIn(2000);
 
         $('#modal__boton').click(function(){//cerramos el canvas cuando damos click en el boton cerrar
           $('#modal').remove();
         })
 
         $("#modal").click(function (e) {//cerramos el canvas cuando damos click fuera de el
           if (e.target === this)
             $('#modal').remove();
         });
 
         
         $(document).keyup(function(e){//control por medio de las teclas
           if (e.keyCode==27) {
             $(document).off('keyup');//al salir del canvas que ya no detecte la presión de alguna tecla
             $('#modal').remove();
           }
 
         });
 
       });

       $('.visor-crow-video2').click(function(){
  
        var CAJA_NEGRA = {
                       video:'',
                       cajaNegra:''//div padre        
         }
         CAJA_NEGRA.video = $(this).attr('alt');
       
       
         CAJA_NEGRA.cajaNegra = '<div class="modal-crow" id="modal"><div class="canvas-crow videos-crow"> <video controls="controls" class="player" id="player" playsinline="playsinline" width="100%" preload="none" style="max-width:100%;" webkit-playsinline="webkit-playsinline" autoplay><source src="'+ CAJA_NEGRA.video +'" type="video/mp4"/></video> <span class="modal__boton-crow" id="modal__boton"></span>  </div></div>';
         $('body').append(CAJA_NEGRA.cajaNegra);
 
         $("#targetImagenCrow,#modal__boton,#descripcionCrow").css({"display":"none"});
         $("#targetImagenCrow,#modal__boton,#descripcionCrow").fadeIn(2000);
 
         $('#modal__boton').click(function(){//cerramos el canvas cuando damos click en el boton cerrar
           $('#modal').remove();
         })
 
         $("#modal").click(function (e) {//cerramos el canvas cuando damos click fuera de el
           if (e.target === this)
             $('#modal').remove();
         });
 
         
         $(document).keyup(function(e){//control por medio de las teclas
           if (e.keyCode==27) {
             $(document).off('keyup');//al salir del canvas que ya no detecte la presión de alguna tecla
             $('#modal').remove();
           }
 
         });
 
       });



       $(".visor-crow-imagen-nutri").click(function() {
        var a = {
            imagen: "",
            rel: "",
            titulo: "",
            descripcion: "",
            fecha:"",
            claseDescripcion: "",
            clasePaginacion: "",
            elementoActual: 0,
            grupo: "",
            claseGrupo: "",
            div: "",
            cajaNegra: "",
            aplicar: function(b) {
                this.imagen = this.grupo[b].getAttribute("alt");
                $("#targetImagenCrow").attr("src", this.imagen);
                $("#descripcionCrow").html('<b>'+ this.grupo[b].getAttribute("title")+ '</b>' +': '+this.grupo[b].getAttribute("fecha"));
                $("#paginacionCrow").text(a.elementoActual + 1 + " de " + a.grupo.length);
                $.isEmptyObject(this.grupo[b].getAttribute("title")) &&
                    typeof("undefined" !== this.grupo[b].getAttribute("title")) ? $("#descripcionCrow").removeClass("descripcionCrow") : $("#descripcionCrow").addClass("descripcionCrow2");
                $("#targetImagenCrow,#modal__boton-crow,#descripcionCrow").css({ display: "none" });
                $("#targetImagenCrow,#modal__boton-crow,#descripcionCrow").fadeIn(500)
            },
            avanzar: function() {
                this.elementoActual >= this.grupo.length - 1 ? this.elementoActual = 0 : this.elementoActual++;
                this.aplicar(this.elementoActual)
            },
            retroceder: function() {
                0 >= this.elementoActual ? this.elementoActual =
                    this.grupo.length - 1 : this.elementoActual--;
                this.aplicar(this.elementoActual)
            },
            entrarPantallaCompleta: function(a) { a.requestFullScreen ? a.requestFullScreen() : a.mozRequestFullScreen ? a.mozRequestFullScreen() : a.webkitRequestFullScreen ? a.webkitRequestFullScreen() : a.msRequestFullscreen && a.msRequestFullscreen() },
            salirPantallaCompleta: function() {
                document.cancelFullScreen ? document.cancelFullScreen() : document.mozCancelFullScreen ? document.mozCancelFullScreen() : document.webkitCancelFullScreen ? document.webkitCancelFullScreen() :
                    document.msCancelFullscreen && document.msCancelFullscreen()
            }
        };
        a.imagen = $(this).attr("alt");
        a.rel = $(this).attr("rel");
        a.titulo = $(this).attr("title");
        a.fecha = $(this).attr("fecha");
        a.elementoActual = parseInt($(this).attr("position"));
        a.descripcion = "undefined" !== typeof '<b>'+a.titulo+'</b>' ? '<b>'+a.titulo+'</b>' +': '+a.fecha : "";
        a.claseDescripcion = "" != a.descripcion ? 'class="descripcionCrow2"' : "";
        a.grupo = $("img[rel=" + a.rel + "]");
        if (a.grupo.length) {
            a.clasePaginacion = '<div class="paginacionCrow" id="paginacionCrow">' + (a.elementoActual + 1) + " de " + a.grupo.length + "</div>";
            a.claseGrupo = '<div class="izquierda-crow" id="izquierda-crow"></div><div class="derecha-crow" id="derecha-crow"></div>';
        }
        a.cajaNegra = '<div class="modal-crow" id="modal-crow"><div class="canvas-crow precarga-crow"><img id="targetImagenCrow" src="' + a.imagen + '" class="modal__img-crow"><span class="modal__boton-crow" id="modal__boton-crow"></span> <div id="descripcionCrow"' + a.claseDescripcion + ">" + a.descripcion + "</div>" + a.claseGrupo + a.clasePaginacion + "   </div></div>";
        $("body").append(a.cajaNegra);
        $("#targetImagenCrow,#modal__boton-crow,#descripcionCrow").css({ display: "none" });
        $("#targetImagenCrow,#modal__boton-crow,#descripcionCrow").fadeIn(1E3);
        a.div = document.getElementById("targetImagenCrow");
        $("#targetImagenCrow").click(function(b) {
            if (1 < a.grupo.length) {
                var c = a.div.getBoundingClientRect();
                b = b.clientX - c.left;
                c = c.right - c.left;
                60 >= b && a.retroceder();
                b > c - 60 && a.avanzar()
            }
        });
        $("#izquierda-crow").click(function() { a.retroceder() });
        $("#derecha-crow").click(function() { a.avanzar() });
        $("#modal__boton-crow").click(function() {
            $("#modal-crow").remove()
        });
        $("#modal-crow").click(function(b) {
            b.target ===
                this && ($("#modal-crow").remove())
        });
        $(document).keyup(function(b) {
            27 == b.keyCode && ($(document).off("keyup"), $("#modal-crow").remove());
            39 == b.keyCode && a.avanzar();
            37 == b.keyCode && a.retroceder()
        });
        var d = 0,
            e = 0;
        a.div.addEventListener("touchstart", function(a) {
            d = parseInt(a.changedTouches[0].clientX);
            a.preventDefault()
        }, !1);
        a.div.addEventListener("touchend", function(b) {
            e = parseInt(b.changedTouches[0].clientX); - 20 > d - e ? a.retroceder() : 20 < d - e && a.avanzar();
            b.preventDefault()
        }, !1)
    });